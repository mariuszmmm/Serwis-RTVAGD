"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{3212:(e,t,i)=>{i.r(t),i.d(t,{QrCode:()=>p});var n=i(7876),o=i(1177),r=i(9788),a=i(7856);let s=a.Ay.div.withConfig({componentId:"sc-b02ddb18-0"})(["position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.8);z-index:999;display:",";"],({$isOpen:e})=>e?"block":"none"),d=a.Ay.div.withConfig({componentId:"sc-b02ddb18-1"})(["position:absolute;background-color:white;z-index:1000;cursor:pointer;top:130px;right:20px;transform:translate(0,0);border-radius:2px;opacity:",";",";@media (max-width:","){top:94px;}@media (max-width:","){top:84px;}@media (hover:hover) and (pointer:fine){&:hover{opacity:1;}}",";"],({$loaded:e})=>e?"0.8":"0",({$hidden:e})=>e&&(0,a.AH)(["opacity:0;pointer-events:none;"]),({theme:e})=>e.breakpoint.medium,({theme:e})=>e.breakpoint.small,({$isOpen:e})=>e?(0,a.AH)(["transition:top 0.4s ease-in-out,right 0.4s ease-in-out,transform 0.4s ease-in-out,border-radius 0.3s ease-in-out;transition-delay:0s,0s,0s,0.2s;opacity:1;top:50vh;right:50%;transform:translate(50%,-50%);border-radius:20px;@media (max-width:","){top:50vh;}"],({theme:e})=>e.breakpoint.medium):(0,a.AH)(["transition:top 0.3s ease-in-out,right 0.3s ease-in-out,transform 0.3s ease-in-out,border-radius 0.2s ease-in-out,opacity 0.2s ease;transition-delay:0.1s,0.1s,0.1s,0.1s,0s;"])),l=a.Ay.div.withConfig({componentId:"sc-b02ddb18-2"})(["position:relative;margin:1px;max-width:900px;max-height:900px;width:42px;height:42px;",""],({$isOpen:e})=>e?(0,a.AH)(["transition:width 0.4s ease-in-out,height 0.4s ease-in-out,margin 0.4s ease-in-out;transition-delay:0.1s,0.1s,0.1s;margin:10px;width:90vmin;height:90vmin;"]):(0,a.AH)(["transition:width 0.4s ease-in-out,height 0.4s ease-in-out,margin 0.4s ease-in-out;transition-delay:0s,0s,0s;"])),c=a.Ay.p.withConfig({componentId:"sc-b02ddb18-3"})(["transition:font-size 0.3s ease-in-out,margin 0.4s ease-in-out;",";color:black;text-align:center;font-weight:bold;z-index:1;"],({$delay:e})=>e?(0,a.AH)(["font-size:0.01rem;margin:0;"]):(0,a.AH)(["font-size:2rem;margin:0 0 10px 0;@media (max-width:","){font-size:1.5rem;}@media (max-width:","){font-size:1rem;}"],({theme:e})=>e.breakpoint.medium,({theme:e})=>e.breakpoint.small));var h=i(4587),u=i.n(h),m=i(4232);let p=({hidden:e})=>{let[t,a]=(0,m.useState)(!1),[h,p]=(0,m.useState)(!0),[w,g]=(0,m.useState)(!1),x=(0,m.useRef)(null),[v,f]=(0,m.useState)(""),b=async()=>{try{"wakeLock"in navigator&&(x.current=await navigator.wakeLock.request("screen"))}catch(e){console.error("Failed to acquire wake lock:",e)}},k=async()=>{try{x.current&&(await x.current.release(),x.current=null)}catch(e){console.error("Failed to release wake lock:",e)}};return(0,m.useEffect)(()=>{let e=e=>{e.preventDefault()};return t?(setTimeout(()=>{p(!1)},300),window.addEventListener("wheel",e,{passive:!1}),window.addEventListener("touchmove",e,{passive:!1}),b()):k(),()=>{k(),p(!0),window.removeEventListener("wheel",e),window.removeEventListener("touchmove",e)}},[t]),(0,m.useEffect)(()=>{let e=!1;return(async()=>{let n=document.createElement("canvas"),a=o.gh.logoGoogle,s=100*!!t;try{(await i.e(617).then(i.t.bind(i,3617,19))).default.toCanvas(n,r._.url.addTestimonial,{width:256,margin:2,errorCorrectionLevel:"high",color:{dark:"#000000",light:"#FFFFFF"}},t=>{if(t)return void console.error(t);if(e)return;let i=n.getContext("2d"),o=new Image;o.src=a,o.crossOrigin="Anonymous",o.onload=()=>{if(e)return;let t=(256-s)/2,r=(256-s)/2;i.drawImage(o,t,r,s,s),f(n.toDataURL("image/png"))}})}catch(e){console.error("Failed to load qrcode library",e)}})(),()=>{e=!0}},[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s,{$isOpen:t,onClick:()=>a(!t)}),(0,n.jsx)(d,{onClick:()=>a(!t),$isOpen:t,$hidden:e,$loaded:w,title:"Wystaw opinię - kod QR",children:v&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l,{$isOpen:t,children:(0,n.jsx)(u(),{src:v,alt:"QrCode",fill:!0,onLoad:()=>g(!0),sizes:"(max-width: 880px) 42px, 900px",style:{objectFit:"contain"}})}),(0,n.jsx)(c,{$delay:h,children:"Zeskanuj kod QR i wystaw opinię"})]})})]})}}}]);